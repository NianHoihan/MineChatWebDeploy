# 移动端适配测试清单

## 基本功能测试 ✅

### 1. 侧边栏抽屉效果 (window.innerWidth ≤ 768px)
- [ ] 桌面端侧边栏在移动端隐藏
- [ ] 点击左上角菜单按钮呼出侧边栏抽屉 
- [ ] 抽屉占用左边70%屏幕范围
- [ ] 右边30%有玻璃蒙版遮罩效果
- [ ] 支持左滑手势关闭抽屉
- [ ] 点击遮罩区域关闭抽屉
- [ ] ESC键关闭抽屉

### 2. 三段式布局 (header/main/footer)
- [ ] 移动端显示固定头部（ChatHeader）
- [ ] 头部包含菜单按钮和模型选择器
- [ ] 消息区域可滚动（main区域）
- [ ] 输入区域粘底显示（footer区域）

### 3. 输入框粘底和安全区域适配
- [ ] 输入框在移动端粘底显示
- [ ] 支持 safe-area-inset-bottom 适配（iPhone刘海屏）
- [ ] 键盘弹出时输入框正确定位
- [ ] 键盘弹出时消息区域正确调整

### 4. 消息样式优化
- [ ] 消息气泡最大宽度92%
- [ ] 用户消息右对齐，助手消息左对齐
- [ ] 文本16px基础字号，1.6行高
- [ ] 代码块支持横向滚动
- [ ] 代码块有一键复制按钮
- [ ] 图片自适应等比缩放
- [ ] 表格支持横向滚动并固定表头

### 5. 交互体验
- [ ] "回到底部"悬浮按钮显示正确
- [ ] 所有可点击元素≥44×44pt
- [ ] 支持系统字体缩放
- [ ] 防止iOS下拉刷新
- [ ] 上滑隐藏输入附件栏效果

### 6. 视口和键盘适配
- [ ] iOS Safari视口高度正确修正
- [ ] 键盘弹出检测正确
- [ ] 横屏切换时布局正确
- [ ] 避免键盘遮挡输入区域

## 高级功能测试

### 7. PWA友好
- [ ] 隐藏地址栏时内容无跳变
- [ ] 支持PWA模式运行

### 8. 主题兼容
- [ ] 亮色主题下移动端样式正确
- [ ] 暗色主题下移动端样式正确
- [ ] 对比度符合WCAG AA标准

### 9. 性能优化
- [ ] 大列表使用虚拟化
- [ ] 加载历史记录使用骨架屏
- [ ] 滚动体验流畅，无掉帧

## 具体测试步骤

### 步骤1：基础布局测试
1. 在Chrome DevTools中切换到移动设备视图
2. 设置屏幕宽度为375px (iPhone SE)
3. 检查页面是否正确显示移动端布局

### 步骤2：侧边栏测试
1. 点击左上角菜单按钮
2. 确认侧边栏从左侧滑入
3. 尝试左滑关闭侧边栏
4. 点击遮罩区域关闭侧边栏

### 步骤3：输入框测试
1. 检查输入框是否粘底显示
2. 点击输入框聚焦
3. 检查虚拟键盘弹出时的布局
4. 输入长文本检查自动调整高度

### 步骤4：消息测试
1. 发送包含代码的消息
2. 检查代码块是否有复制按钮
3. 测试代码块横向滚动
4. 检查消息气泡宽度和对齐

### 步骤5：滚动测试
1. 发送多条消息使内容超过屏幕
2. 滚动到中间位置
3. 检查"回到底部"按钮是否出现
4. 点击按钮测试功能

### 步骤6：设备测试
测试设备列表：
- iPhone SE (375x667)
- iPhone 12 Pro (390x844)  
- iPad (768x1024)
- Samsung Galaxy S21 (360x800)
- 横屏模式

## 已实现功能

✅ 基础移动端布局适配  
✅ 侧边栏抽屉效果  
✅ 手势滑动关闭  
✅ 输入框粘底设计  
✅ 安全区域适配  
✅ iOS视口高度修正  
✅ 键盘弹出检测  
✅ 代码块横向滚动  
✅ 消息气泡样式优化  
✅ 最小触摸目标尺寸  
✅ 回到底部按钮  

## 待完善功能

🔲 实际设备测试  
🔲 性能优化测试  
🔲 PWA模式测试  
🔲 无障碍访问性测试  